from fastapi import FastAPI
from pydantic import BaseModel
from typing import Literal

app = FastAPI()

class Transaction(BaseModel):
    transaction_id: int
    merchant_id: int
    user_id: int
    card_number: str
    transaction_date: str
    transaction_amount: float
    device_id: int | None

# Simulado: histórico de chargebacks e transações
users_with_cbk = {3584, 10241, 87048, 17929, 43018, 27657, 50699, 33805, 7695, 89615, 39443, 76819, 58905, 59418, 90144, 99876, 8743, 4651, 7725, 50734, 56877, 40493, 64057, 28218, 8761, 90176, 99396, 24644, 90182, 93767, 31819, 11858, 66643, 3157, 53850, 74844, 63582, 68191, 92259, 17507, 43108, 79462, 84071, 6761, 85612, 7281, 75889, 61047, 31867, 9853, 79998, 69758, 27779, 76422, 4744, 10378, 26251, 73867, 40595, 2708, 30874, 73385, 77999, 42677, 11452, 21702, 86219, 96972, 79054, 96976, 81642, 96495, 21233, 37113, 57594, 19199, 81152, 71424, 92930, 16644, 67845, 21768, 71433, 83722, 81164, 96025, 57127, 18227, 11065, 83258, 70457, 96576, 41281, 35138, 70465, 97611, 56139, 55630, 38734, 27987, 58709, 69973, 69466, 60263, 45420, 23916, 19820, 83826, 97150, 9600, 80769, 92034, 900, 23429, 12678, 79237, 85897, 43913, 86411, 16781, 17807, 65935, 70557, 52129, 66979, 27555, 5541, 39334, 62888, 78262, 75710, 67519, 44494, 95694, 50643, 69588, 12756, 24027, 16862, 24543, 76768, 13793, 93156, 11750, 45031, 89064, 61415, 38890, 93679, 19440, 44531, 47604, 91637}
recent_tx_count = {6: 1, 7: 1, 8: 1, 19: 1, 132: 1, 136: 1, 153: 1, 163: 1, 167: 1, 184: 1, 208: 1, 244: 1, 266: 2, 276: 1, 277: 1, 332: 1, 343: 1, 419: 1, 440: 1, 540: 1, 700: 1, 775: 1, 813: 1, 900: 1, 947: 1, 951: 1, 981: 1, 1011: 1, 1072: 1, 1082: 1, 1085: 1, 1104: 1, 1233: 1, 1266: 1, 1268: 1, 1270: 1, 1283: 1, 1391: 1, 1423: 1, 1516: 2, 1518: 1, 1526: 1, 1552: 1, 1620: 1, 1668: 2, 1695: 1, 1703: 2, 1733: 1, 1747: 1, 1759: 1, 1811: 1, 1831: 1, 1836: 2, 1839: 1, 1877: 1, 2084: 1, 2121: 1, 2159: 1, 2195: 1, 2204: 1, 2227: 1, 2243: 1, 2244: 1, 2251: 1, 2278: 1, 2298: 1, 2361: 1, 2395: 1, 2402: 1, 2427: 1, 2431: 1, 2435: 1, 2484: 1, 2503: 1, 2507: 1, 2543: 1, 2594: 1, 2686: 1, 2708: 2, 2810: 1, 2866: 3, 2868: 1, 2889: 1, 2937: 1, 2975: 1, 3020: 1, 3022: 1, 3039: 1, 3043: 1, 3050: 1, 3060: 1, 3113: 1, 3120: 1, 3157: 1, 3251: 1, 3314: 1, 3344: 1, 3345: 1, 3421: 1, 3442: 1, 3454: 1, 3457: 1, 3524: 1, 3584: 6, 3601: 1, 3649: 1, 3664: 1, 3681: 1, 3684: 1, 3698: 1, 3722: 1, 3807: 1, 3826: 1, 3838: 1, 3864: 1, 3942: 1, 3995: 1, 4001: 1, 4042: 1, 4047: 1, 4058: 1, 4277: 1, 4337: 1, 4379: 1, 4389: 1, 4414: 1, 4429: 1, 4447: 1, 4453: 1, 4509: 1, 4600: 1, 4651: 3, 4688: 1, 4710: 1, 4744: 1, 4750: 1, 4798: 2, 4800: 1, 4893: 1, 4904: 1, 5058: 1, 5078: 1, 5111: 1, 5121: 1, 5130: 1, 5156: 1, 5203: 1, 5285: 1, 5288: 2, 5331: 1, 5398: 1, 5537: 2, 5541: 3, 5734: 1, 5736: 1, 5768: 1, 5775: 1, 5798: 1, 5838: 1, 5850: 1, 5892: 1, 5911: 1, 5936: 1, 5949: 1, 6017: 1, 6024: 2, 6099: 1, 6213: 1, 6220: 1, 6326: 1, 6332: 1, 6333: 1, 6363: 2, 6406: 1, 6422: 1, 6434: 1, 6467: 1, 6538: 3, 6583: 1, 6588: 1, 6627: 1, 6645: 1, 6692: 1, 6712: 1, 6714: 1, 6761: 3, 6770: 1, 6868: 1, 6896: 1, 6909: 1, 6920: 1, 6939: 1, 7019: 1, 7117: 1, 7149: 1, 7161: 1, 7196: 2, 7209: 1, 7281: 4, 7297: 1, 7348: 1, 7407: 1, 7488: 1, 7536: 1, 7593: 1, 7609: 1, 7623: 1, 7682: 1, 7683: 1, 7695: 7, 7709: 1, 7725: 7, 7811: 2, 7875: 1, 7928: 1, 7961: 1, 7962: 1, 7994: 1, 8029: 1, 8031: 1, 8232: 1, 8359: 1, 8418: 1, 8431: 1, 8433: 1, 8535: 1, 8615: 1, 8653: 1, 8682: 1, 8718: 1, 8743: 1, 8761: 1, 8786: 1, 8836: 1, 8846: 1, 8979: 1, 9005: 3, 9096: 1, 9116: 1, 9169: 1, 9271: 1, 9307: 1, 9328: 1, 9335: 1, 9486: 1, 9555: 1, 9579: 1, 9600: 2, 9612: 1, 9624: 1, 9666: 1, 9669: 3, 9725: 1, 9790: 1, 9853: 9, 9868: 1, 9907: 1, 9925: 1, 9960: 1, 9983: 1, 9989: 1, 10004: 1, 10006: 1, 10033: 1, 10043: 1, 10054: 1, 10218: 1, 10241: 5, 10330: 1, 10337: 1, 10378: 3, 10405: 2, 10431: 1, 10449: 1, 10563: 1, 10576: 1, 10714: 1, 10749: 1, 10778: 1, 11005: 1, 11038: 1, 11065: 4, 11067: 1, 11075: 1, 11125: 1, 11142: 1, 11234: 1, 11244: 1, 11306: 1, 11320: 1, 11338: 1, 11383: 2, 11394: 1, 11452: 8, 11460: 1, 11462: 1, 11570: 1, 11611: 1, 11634: 1, 11648: 1, 11651: 1, 11663: 1, 11750: 31, 11791: 2, 11805: 1, 11838: 1, 11844: 1, 11858: 1, 11867: 1, 11880: 1, 11899: 1, 11924: 1, 12018: 1, 12064: 1, 12070: 1, 12148: 1, 12200: 1, 12212: 1, 12239: 1, 12259: 1, 12315: 1, 12431: 1, 12525: 1, 12552: 1, 12593: 1, 12621: 1, 12627: 1, 12647: 1, 12648: 1, 12678: 2, 12681: 1, 12689: 1, 12756: 1, 12779: 1, 12830: 1, 12867: 1, 12876: 1, 12882: 1, 12890: 1, 12895: 1, 12947: 1, 13001: 4, 13006: 1, 13050: 1, 13080: 1, 13108: 1, 13111: 1, 13229: 2, 13251: 1, 13261: 1, 13286: 1, 13345: 1, 13368: 1, 13395: 1, 13417: 1, 13515: 1, 13537: 1, 13609: 1, 13639: 1, 13671: 1, 13727: 1, 13748: 1, 13762: 1, 13772: 1, 13793: 1, 13816: 1, 13866: 1, 13898: 1, 13921: 1, 13942: 1, 13967: 1, 14157: 1, 14205: 1, 14207: 1, 14208: 1, 14213: 1, 14303: 1, 14358: 1, 14419: 1, 14440: 1, 14499: 1, 14506: 1, 14542: 1, 14561: 1, 14580: 1, 14625: 1, 14684: 1, 14764: 1, 14777: 1, 14780: 1, 14802: 1, 14857: 1, 14859: 1, 14870: 2, 14882: 1, 14884: 1, 15031: 1, 15076: 1, 15131: 1, 15146: 1, 15154: 1, 15225: 1, 15229: 1, 15267: 1, 15293: 1, 15312: 1, 15357: 1, 15398: 1, 15399: 1, 15428: 1, 15519: 1, 15554: 1, 15569: 1, 15599: 1, 15601: 1, 15606: 1, 15629: 2, 15648: 1, 15673: 1, 15762: 1, 15769: 1, 15779: 1, 15834: 1, 15848: 1, 15901: 1, 15914: 1, 15915: 1, 15924: 1, 15931: 1, 15997: 1, 16052: 1, 16064: 1, 16083: 1, 16236: 1, 16241: 1, 16262: 1, 16298: 1, 16367: 1, 16383: 1, 16394: 1, 16429: 1, 16465: 1, 16502: 1, 16521: 1, 16531: 1, 16564: 1, 16599: 1, 16603: 1, 16644: 1, 16657: 2, 16746: 1, 16756: 1, 16781: 2, 16851: 1, 16862: 2, 16900: 1, 16913: 1, 16938: 1, 16949: 1, 17025: 1, 17119: 1, 17160: 1, 17183: 1, 17211: 1, 17246: 2, 17296: 1, 17309: 1, 17323: 1, 17358: 1, 17394: 1, 17407: 2, 17500: 1, 17507: 1, 17605: 1, 17640: 1, 17643: 1, 17658: 1, 17664: 1, 17679: 1, 17682: 1, 17694: 1, 17807: 4, 17849: 1, 17851: 1, 17929: 6, 17973: 1, 17990: 1, 18009: 1, 18038: 1, 18061: 1, 18074: 1, 18126: 1, 18174: 1, 18205: 4, 18227: 4, 18257: 1, 18277: 1, 18345: 1, 18411: 1, 18435: 1, 18465: 1, 18479: 1, 18481: 1, 18555: 1, 18576: 1, 18591: 1, 18611: 1, 18626: 1, 18638: 1, 18745: 1, 18824: 1, 18833: 1, 19058: 1, 19117: 1, 19158: 1, 19160: 1, 19166: 1, 19190: 1, 19199: 1, 19244: 1, 19248: 1, 19335: 1, 19363: 1, 19385: 2, 19392: 1, 19418: 1, 19430: 1, 19432: 1, 19440: 1, 19559: 1, 19563: 1, 19566: 1, 19623: 1, 19675: 1, 19799: 1, 19820: 3, 19891: 1, 19909: 1, 19922: 1, 19952: 1, 19971: 1, 20002: 1, 20026: 1, 20036: 1, 20052: 1, 20078: 1, 20101: 1, 20178: 1, 20191: 2, 20193: 1, 20354: 1, 20367: 1, 20407: 1, 20505: 1, 20554: 1, 20556: 1, 20577: 1, 20595: 1, 20625: 1, 20641: 1, 20797: 1, 20799: 1, 20839: 1, 20841: 1, 20866: 1, 20892: 1, 20913: 1, 20963: 1, 20975: 1, 20998: 1, 21010: 1, 21035: 1, 21048: 2, 21056: 1, 21166: 1, 21221: 1, 21233: 2, 21395: 1, 21398: 1, 21440: 1, 21527: 1, 21627: 1, 21643: 1, 21702: 2, 21768: 6, 21854: 1, 21903: 1, 21988: 1, 21994: 1, 22005: 1, 22096: 1, 22142: 1, 22151: 1, 22156: 1, 22202: 1, 22260: 1, 22309: 1, 22317: 1, 22356: 1, 22391: 1, 22392: 1, 22443: 1, 22494: 1, 22600: 1, 22693: 1, 22727: 1, 22753: 1, 22767: 1, 22788: 1, 22834: 1, 22844: 1, 22882: 1, 23008: 1, 23038: 1, 23116: 1, 23123: 2, 23151: 1, 23170: 1, 23183: 1, 23201: 2, 23204: 4, 23238: 1, 23243: 1, 23285: 1, 23336: 1, 23340: 1, 23354: 1, 23365: 1, 23391: 1, 23420: 1, 23429: 2, 23494: 1, 23495: 1, 23546: 1, 23575: 1, 23577: 1, 23633: 1, 23720: 1, 23723: 2, 23733: 1, 23864: 1, 23916: 1, 23943: 1, 23970: 2, 23988: 1, 24027: 1, 24055: 1, 24071: 1, 24223: 1, 24312: 1, 24328: 1, 24338: 1, 24339: 1, 24341: 1, 24460: 1, 24463: 1, 24543: 2, 24601: 1, 24625: 2, 24635: 1, 24644: 2, 24697: 1, 24776: 2, 24871: 1, 24919: 1, 25045: 1, 25067: 1, 25123: 1, 25127: 1, 25167: 1, 25173: 1, 25234: 1, 25361: 1, 25385: 2, 25391: 1, 25415: 1, 25426: 1, 25438: 1, 25445: 1, 25452: 1, 25484: 1, 25488: 1, 25562: 1, 25574: 1, 25617: 1, 25653: 1, 25661: 1, 25678: 1, 25789: 1, 25791: 1, 26036: 1, 26088: 1, 26106: 2, 26109: 1, 26146: 1, 26151: 1, 26251: 2, 26257: 1, 26277: 1, 26386: 1, 26390: 1, 26425: 1, 26467: 1, 26539: 1, 26557: 1, 26780: 1, 26891: 1, 26913: 2, 27011: 1, 27027: 1, 27038: 1, 27073: 1, 27079: 1, 27103: 1, 27161: 1, 27183: 2, 27277: 1, 27279: 1, 27370: 1, 27542: 1, 27555: 4, 27576: 1, 27581: 1, 27657: 5, 27686: 1, 27690: 1, 27715: 1, 27779: 2, 27854: 1, 27891: 1, 27901: 1, 27916: 1, 27939: 3, 27950: 1, 27987: 1, 28025: 1, 28046: 1, 28081: 1, 28115: 1, 28146: 1, 28198: 1, 28218: 5, 28241: 1, 28326: 1, 28360: 1, 28404: 1, 28412: 1, 28421: 1, 28428: 1, 28434: 1, 28487: 1, 28518: 2, 28646: 1, 28685: 1, 28690: 1, 28715: 1, 28742: 1, 28771: 1, 28805: 1, 28839: 1, 28995: 1, 29015: 1, 29073: 1, 29270: 1, 29278: 1, 29284: 1, 29312: 1, 29343: 1, 29363: 1, 29414: 1, 29423: 1, 29500: 1, 29529: 1, 29540: 1, 29573: 1, 29700: 1, 29728: 1, 29804: 1, 29880: 1, 29890: 1, 29915: 1, 29930: 1, 29931: 1, 29990: 1, 30014: 1, 30052: 1, 30130: 1, 30189: 1, 30198: 1, 30207: 1, 30237: 1, 30248: 1, 30270: 1, 30295: 1, 30381: 1, 30401: 1, 30441: 1, 30447: 1, 30494: 1, 30508: 1, 30570: 1, 30578: 1, 30690: 1, 30702: 2, 30806: 1, 30874: 4, 30907: 1, 30920: 1, 30948: 1, 31037: 1, 31095: 1, 31124: 1, 31162: 1, 31219: 1, 31255: 1, 31269: 1, 31324: 1, 31333: 1, 31379: 1, 31451: 1, 31481: 1, 31492: 1, 31503: 1, 31544: 1, 31556: 1, 31561: 3, 31598: 1, 31621: 1, 31622: 1, 31672: 1, 31746: 1, 31753: 1, 31780: 1, 31796: 1, 31819: 4, 31847: 1, 31867: 1, 31869: 1, 31883: 1, 31893: 1, 32196: 1, 32202: 1, 32203: 1, 32229: 1, 32250: 1, 32313: 1, 32330: 1, 32383: 1, 32430: 1, 32445: 1, 32617: 1, 32635: 1, 32678: 1, 32685: 1, 32737: 1, 32799: 1, 32861: 1, 32882: 1, 32928: 1, 32969: 1, 33071: 3, 33097: 1, 33129: 1, 33155: 1, 33181: 1, 33201: 1, 33215: 1, 33262: 1, 33270: 1, 33326: 2, 33423: 1, 33558: 1, 33570: 1, 33616: 1, 33648: 1, 33684: 1, 33720: 1, 33756: 1, 33764: 1, 33773: 1, 33782: 1, 33800: 1, 33805: 2, 33835: 1, 33867: 1, 33898: 1, 33933: 1, 33958: 1, 33990: 1, 34109: 2, 34150: 1, 34172: 2, 34175: 1, 34194: 1, 34204: 1, 34231: 1, 34289: 1, 34305: 1, 34313: 1, 34323: 1, 34335: 1, 34342: 1, 34397: 1, 34426: 1, 34479: 1, 34482: 2, 34497: 1, 34548: 6, 34556: 1, 34559: 1, 34569: 1, 34603: 1, 34612: 1, 34692: 1, 34705: 1, 34752: 1, 34771: 1, 34806: 1, 34810: 1, 34814: 1, 34851: 1, 34898: 1, 34904: 1, 34927: 1, 34989: 1, 35083: 2, 35108: 1, 35138: 2, 35252: 1, 35268: 2, 35315: 1, 35318: 1, 35362: 1, 35422: 1, 35428: 1, 35492: 1, 35542: 1, 35658: 1, 35750: 1, 35844: 1, 35846: 1, 35869: 1, 35882: 1, 35907: 2, 35960: 1, 35993: 1, 36008: 1, 36053: 1, 36093: 1, 36109: 1, 36133: 1, 36202: 1, 36226: 1, 36292: 1, 36309: 1, 36325: 1, 36328: 1, 36518: 1, 36538: 1, 36549: 1, 36595: 1, 36652: 1, 36654: 1, 36730: 1, 36857: 1, 36860: 1, 36937: 1, 37099: 1, 37113: 2, 37125: 1, 37169: 1, 37176: 1, 37183: 1, 37202: 1, 37238: 1, 37317: 1, 37333: 1, 37373: 2, 37427: 1, 37462: 1, 37507: 1, 37574: 1, 37647: 1, 37681: 1, 37723: 1, 37725: 1, 37798: 2, 37879: 1, 38003: 1, 38200: 1, 38249: 2, 38289: 1, 38299: 1, 38320: 1, 38392: 1, 38415: 1, 38436: 1, 38480: 1, 38520: 1, 38545: 1, 38561: 1, 38593: 1, 38627: 1, 38628: 1, 38730: 1, 38734: 1, 38822: 1, 38839: 2, 38890: 1, 38900: 1, 38913: 1, 38921: 1, 38995: 1, 39024: 1, 39061: 1, 39068: 1, 39143: 1, 39157: 2, 39265: 1, 39273: 2, 39318: 1, 39334: 1, 39355: 1, 39367: 1, 39396: 2, 39443: 2, 39503: 1, 39508: 1, 39539: 1, 39540: 1, 39624: 1, 39708: 1, 39729: 1, 39744: 1, 39816: 1, 39875: 1, 39903: 1, 39905: 1, 39925: 1, 40010: 1, 40150: 1, 40151: 1, 40230: 1, 40278: 1, 40298: 1, 40302: 2, 40493: 3, 40499: 1, 40506: 1, 40549: 1, 40571: 1, 40595: 1, 40674: 1, 40725: 1, 40738: 1, 40759: 1, 40779: 6, 40781: 1, 40884: 1, 40980: 1, 41027: 1, 41062: 1, 41071: 1, 41092: 1, 41161: 1, 41202: 1, 41224: 1, 41281: 1, 41351: 1, 41358: 1, 41361: 1, 41381: 1, 41424: 1, 41438: 1, 41526: 1, 41562: 1, 41578: 1, 41595: 1, 41684: 1, 41714: 1, 41734: 1, 41736: 1, 41771: 1, 41788: 1, 41827: 1, 41872: 1, 41964: 1, 42099: 1, 42107: 1, 42114: 1, 42122: 1, 42129: 1, 42194: 1, 42211: 1, 42233: 1, 42284: 1, 42309: 1, 42312: 1, 42342: 1, 42388: 2, 42426: 1, 42427: 1, 42433: 1, 42447: 1, 42450: 1, 42452: 1, 42458: 1, 42525: 1, 42540: 1, 42581: 1, 42624: 1, 42666: 1, 42677: 5, 42717: 1, 42774: 1, 42789: 1, 42806: 1, 42856: 1, 42873: 1, 42923: 1, 42933: 1, 42949: 1, 42965: 1, 42978: 1, 42993: 1, 43018: 1, 43108: 1, 43116: 1, 43244: 1, 43328: 1, 43344: 1, 43345: 1, 43347: 1, 43388: 1, 43454: 1, 43473: 1, 43508: 1, 43510: 1, 43595: 1, 43608: 1, 43631: 1, 43666: 1, 43689: 1, 43730: 2, 43747: 1, 43752: 1, 43913: 1, 44038: 1, 44075: 1, 44092: 1, 44150: 1, 44188: 1, 44266: 1, 44280: 2, 44300: 1, 44310: 1, 44344: 1, 44362: 1, 44494: 1, 44507: 1, 44518: 1, 44531: 3, 44550: 1, 44605: 1, 44680: 1, 44835: 1, 44896: 1, 44942: 1, 44953: 1, 45031: 1, 45039: 1, 45249: 1, 45276: 1, 45294: 1, 45300: 1, 45315: 1, 45320: 1, 45350: 1, 45371: 1, 45420: 1, 45464: 1, 45475: 1, 45552: 1, 45556: 1, 45616: 1, 45632: 1, 45682: 1, 45693: 1, 45705: 1, 45717: 1, 45739: 1, 45797: 2, 45808: 1, 45831: 1, 45904: 1, 45943: 1, 45949: 1, 45953: 1, 45967: 1, 46064: 1, 46161: 1, 46180: 1, 46219: 1, 46249: 1, 46257: 1, 46359: 1, 46361: 1, 46379: 1, 46441: 1, 46455: 1, 46469: 1, 46545: 1, 46579: 1, 46680: 1, 46692: 1, 46724: 1, 46745: 1, 46752: 1, 46771: 1, 46813: 2, 46814: 1, 46876: 1, 46951: 1, 46976: 1, 46987: 1, 46999: 1, 47079: 1, 47105: 1, 47168: 1, 47262: 1, 47303: 1, 47307: 1, 47312: 1, 47326: 1, 47336: 1, 47350: 1, 47362: 1, 47374: 1, 47431: 1, 47545: 1, 47570: 1, 47571: 1, 47575: 1, 47604: 2, 47634: 1, 47677: 1, 47747: 1, 47760: 1, 47822: 1, 47887: 1, 47893: 1, 47894: 1, 47923: 1, 47981: 1, 48060: 1, 48090: 1, 48141: 1, 48203: 1, 48246: 1, 48260: 1, 48310: 1, 48340: 1, 48359: 1, 48388: 1, 48419: 1, 48426: 2, 48433: 1, 48470: 1, 48486: 1, 48606: 1, 48622: 1, 48817: 1, 48859: 1, 48867: 1, 48874: 1, 48918: 1, 48983: 1, 49052: 1, 49071: 1, 49106: 7, 49121: 2, 49135: 1, 49150: 2, 49349: 1, 49378: 1, 49500: 1, 49508: 1, 49522: 1, 49545: 1, 49562: 1, 49581: 1, 49587: 1, 49625: 1, 49653: 1, 49679: 1, 49854: 1, 49891: 1, 49918: 1, 49996: 1, 50068: 1, 50083: 1, 50105: 2, 50249: 1, 50329: 2, 50360: 1, 50380: 1, 50400: 1, 50407: 1, 50464: 1, 50512: 1, 50599: 1, 50603: 1, 50622: 1, 50643: 4, 50672: 2, 50673: 1, 50685: 2, 50689: 1, 50699: 1, 50734: 1, 50781: 1, 50852: 1, 50855: 1, 50883: 1, 50964: 1, 51024: 1, 51263: 1, 51271: 1, 51296: 1, 51343: 1, 51397: 1, 51409: 1, 51465: 1, 51512: 1, 51527: 1, 51571: 1, 51595: 1, 51657: 1, 51688: 1, 51776: 1, 51786: 1, 51894: 1, 51896: 1, 51937: 1, 52003: 1, 52022: 1, 52047: 1, 52119: 1, 52129: 2, 52201: 1, 52209: 1, 52235: 1, 52243: 1, 52307: 1, 52311: 1, 52339: 1, 52345: 1, 52386: 1, 52403: 1, 52460: 1, 52476: 1, 52488: 1, 52528: 1, 52579: 1, 52582: 1, 52613: 2, 52658: 1, 52694: 1, 52716: 1, 52725: 1, 52740: 1, 52757: 1, 52806: 1, 52854: 2, 52866: 1, 52900: 1, 52913: 1, 52917: 1, 52932: 1, 52954: 1, 52964: 1, 53039: 1, 53248: 1, 53254: 1, 53380: 1, 53385: 1, 53472: 1, 53501: 1, 53512: 1, 53577: 1, 53657: 1, 53727: 1, 53810: 1, 53818: 1, 53850: 3, 53919: 1, 53987: 1, 53990: 1, 54005: 1, 54010: 1, 54067: 1, 54072: 1, 54080: 1, 54110: 1, 54116: 1, 54118: 1, 54123: 1, 54133: 1, 54212: 1, 54243: 1, 54246: 1, 54276: 1, 54327: 1, 54335: 1, 54339: 1, 54395: 1, 54460: 1, 54468: 1, 54488: 1, 54506: 1, 54528: 1, 54583: 1, 54596: 1, 54632: 1, 54673: 1, 54743: 1, 54781: 1, 54795: 1, 54917: 1, 54920: 1, 54923: 1, 54926: 1, 54947: 1, 54965: 1, 54976: 1, 54983: 1, 55007: 2, 55009: 1, 55041: 1, 55088: 1, 55236: 1, 55317: 1, 55384: 1, 55400: 1, 55405: 1, 55432: 1, 55455: 1, 55518: 1, 55520: 1, 55540: 1, 55544: 2, 55556: 1, 55581: 2, 55586: 1, 55588: 1, 55620: 1, 55630: 3, 55733: 1, 55744: 1, 55748: 1, 55838: 1, 55849: 1, 55850: 1, 55918: 1, 55926: 1, 55974: 1, 56008: 1, 56052: 1, 56083: 1, 56087: 1, 56092: 1, 56104: 1, 56139: 2, 56145: 1, 56201: 1, 56249: 1, 56273: 1, 56353: 1, 56368: 1, 56384: 1, 56410: 1, 56413: 1, 56432: 1, 56468: 1, 56512: 1, 56539: 1, 56541: 1, 56794: 1, 56854: 1, 56855: 1, 56877: 9, 56920: 1, 56986: 2, 57127: 1, 57128: 1, 57150: 1, 57206: 1, 57220: 1, 57270: 1, 57306: 1, 57319: 1, 57334: 1, 57353: 1, 57356: 1, 57366: 1, 57376: 1, 57385: 1, 57416: 1, 57434: 1, 57564: 1, 57584: 1, 57594: 3, 57787: 1, 57800: 1, 57809: 1, 57879: 1, 57906: 1, 57935: 1, 57945: 1, 57953: 1, 58011: 2, 58019: 1, 58022: 1, 58029: 1, 58052: 1, 58059: 1, 58108: 1, 58148: 1, 58152: 1, 58162: 1, 58171: 1, 58195: 1, 58248: 1, 58287: 1, 58308: 1, 58343: 2, 58500: 1, 58519: 1, 58586: 1, 58590: 1, 58698: 1, 58702: 1, 58709: 1, 58713: 1, 58717: 1, 58786: 1, 58799: 2, 58852: 1, 58873: 1, 58890: 1, 58905: 4, 58974: 1, 59001: 1, 59005: 1, 59053: 1, 59064: 1, 59102: 1, 59161: 1, 59180: 1, 59188: 1, 59201: 1, 59204: 1, 59208: 1, 59256: 1, 59275: 1, 59367: 1, 59418: 1, 59456: 2, 59529: 1, 59544: 1, 59560: 1, 59567: 1, 59735: 1, 59738: 1, 59796: 1, 59812: 1, 59865: 1, 59868: 1, 59888: 1, 59902: 2, 60084: 1, 60132: 1, 60229: 1, 60263: 1, 60300: 1, 60308: 1, 60316: 1, 60321: 1, 60325: 1, 60489: 1, 60581: 1, 60680: 1, 60698: 1, 60793: 1, 60805: 1, 60822: 1, 60849: 1, 60881: 1, 60916: 1, 60985: 1, 60997: 1, 61047: 1, 61090: 1, 61136: 1, 61234: 1, 61413: 1, 61415: 1, 61419: 1, 61443: 1, 61575: 1, 61602: 1, 61610: 1, 61611: 1, 61626: 1, 61637: 2, 61644: 2, 61705: 1, 61764: 1, 61784: 1, 61882: 1, 61886: 1, 61917: 1, 61941: 1, 61949: 1, 61968: 2, 62012: 1, 62119: 1, 62137: 1, 62166: 1, 62307: 1, 62326: 1, 62392: 1, 62394: 1, 62430: 1, 62434: 1, 62483: 1, 62507: 1, 62541: 3, 62550: 1, 62572: 1, 62592: 1, 62608: 1, 62623: 1, 62645: 1, 62660: 1, 62755: 1, 62803: 1, 62824: 1, 62841: 1, 62888: 1, 62890: 1, 62940: 1, 62965: 1, 62974: 1, 62985: 1, 63042: 1, 63096: 2, 63155: 1, 63198: 1, 63265: 1, 63267: 1, 63298: 1, 63395: 1, 63398: 1, 63416: 1, 63503: 1, 63542: 1, 63582: 1, 63593: 1, 63646: 1, 63685: 2, 63711: 1, 63773: 1, 63782: 1, 63793: 1, 63818: 1, 63842: 1, 63847: 1, 63930: 1, 63952: 3, 63979: 1, 64038: 1, 64057: 2, 64204: 1, 64242: 1, 64256: 1, 64293: 1, 64311: 1, 64322: 1, 64341: 1, 64367: 1, 64389: 1, 64397: 1, 64435: 2, 64451: 1, 64469: 1, 64478: 1, 64483: 1, 64485: 1, 64526: 1, 64574: 1, 64595: 1, 64645: 1, 64703: 1, 64921: 1, 64943: 1, 64994: 1, 65030: 1, 65049: 1, 65182: 1, 65183: 1, 65249: 1, 65320: 1, 65326: 2, 65344: 1, 65346: 1, 65386: 1, 65407: 1, 65439: 1, 65457: 1, 65565: 1, 65676: 1, 65703: 1, 65740: 1, 65759: 1, 65917: 1, 65935: 3, 65954: 1, 65956: 1, 65981: 1, 66012: 1, 66026: 1, 66117: 1, 66147: 2, 66157: 2, 66165: 1, 66168: 1, 66182: 1, 66201: 1, 66309: 1, 66310: 1, 66465: 1, 66471: 1, 66495: 1, 66496: 1, 66500: 1, 66522: 1, 66526: 1, 66539: 1, 66600: 1, 66618: 1, 66627: 1, 66635: 1, 66641: 1, 66642: 1, 66643: 1, 66724: 1, 66763: 1, 66874: 1, 66962: 1, 66979: 3, 67017: 1, 67044: 1, 67045: 1, 67117: 1, 67126: 1, 67226: 2, 67241: 1, 67245: 5, 67315: 1, 67417: 1, 67424: 1, 67464: 1, 67505: 1, 67519: 6, 67546: 1, 67558: 1, 67650: 1, 67681: 1, 67698: 1, 67732: 1, 67770: 1, 67794: 1, 67843: 1, 67845: 1, 67850: 1, 67876: 1, 67903: 2, 67927: 1, 67934: 1, 67953: 1, 67966: 1, 67967: 1, 67973: 1, 67982: 1, 68081: 1, 68095: 1, 68159: 1, 68191: 1, 68196: 1, 68208: 1, 68255: 1, 68379: 1, 68418: 1, 68462: 1, 68468: 3, 68495: 1, 68523: 1, 68575: 1, 68578: 1, 68580: 1, 68598: 1, 68638: 1, 68656: 1, 68688: 1, 68703: 1, 68740: 1, 68751: 1, 68764: 1, 68769: 1, 68772: 1, 68861: 1, 68893: 1, 68914: 1, 68954: 1, 68983: 1, 68987: 1, 69032: 1, 69078: 1, 69106: 1, 69137: 1, 69144: 1, 69145: 1, 69179: 1, 69278: 1, 69285: 1, 69300: 1, 69317: 1, 69321: 2, 69379: 1, 69466: 2, 69528: 1, 69532: 1, 69540: 1, 69583: 1, 69588: 5, 69596: 1, 69623: 1, 69680: 1, 69750: 1, 69758: 2, 69839: 1, 69843: 1, 69885: 1, 69890: 1, 69916: 1, 69927: 1, 69953: 1, 69973: 1, 70017: 1, 70094: 1, 70165: 1, 70198: 2, 70204: 1, 70213: 1, 70240: 1, 70403: 1, 70457: 1, 70465: 1, 70470: 1, 70472: 1, 70507: 1, 70555: 1, 70557: 2, 70568: 1, 70589: 1, 70616: 1, 70633: 1, 70648: 1, 70650: 1, 70698: 1, 70746: 1, 70760: 1, 70785: 1, 70790: 2, 70800: 1, 70808: 1, 70824: 1, 70906: 1, 71002: 1, 71021: 1, 71063: 1, 71077: 1, 71104: 1, 71122: 1, 71216: 1, 71234: 1, 71248: 1, 71270: 1, 71295: 1, 71326: 1, 71352: 1, 71366: 1, 71391: 1, 71424: 5, 71433: 3, 71474: 1, 71499: 1, 71560: 1, 71589: 1, 71635: 1, 71710: 1, 71812: 1, 71824: 1, 71828: 1, 71877: 1, 71949: 1, 72080: 1, 72132: 2, 72141: 1, 72170: 1, 72210: 1, 72222: 1, 72254: 1, 72278: 1, 72328: 1, 72360: 1, 72362: 1, 72410: 1, 72413: 1, 72424: 1, 72458: 1, 72489: 1, 72498: 1, 72516: 1, 72593: 1, 72722: 1, 72728: 1, 72735: 1, 72739: 1, 72783: 1, 72814: 1, 72856: 1, 72886: 1, 72941: 1, 72958: 1, 72960: 1, 72962: 1, 72983: 1, 73005: 1, 73114: 1, 73138: 1, 73271: 1, 73362: 1, 73385: 3, 73391: 1, 73411: 1, 73415: 1, 73549: 1, 73615: 1, 73616: 1, 73700: 1, 73717: 1, 73734: 1, 73751: 1, 73752: 1, 73794: 1, 73822: 1, 73846: 1, 73848: 1, 73851: 1, 73854: 1, 73867: 1, 73872: 1, 73879: 1, 73956: 1, 74040: 1, 74112: 1, 74151: 1, 74248: 1, 74272: 1, 74328: 1, 74352: 1, 74404: 1, 74510: 1, 74540: 1, 74563: 2, 74582: 1, 74585: 4, 74593: 1, 74637: 1, 74686: 1, 74698: 1, 74713: 1, 74716: 1, 74744: 1, 74772: 1, 74844: 1, 74964: 1, 74969: 1, 74971: 1, 74974: 1, 75029: 1, 75078: 1, 75134: 1, 75136: 1, 75245: 2, 75261: 1, 75310: 1, 75316: 1, 75386: 1, 75452: 1, 75460: 1, 75487: 1, 75508: 1, 75531: 1, 75575: 1, 75664: 1, 75679: 1, 75682: 1, 75710: 10, 75771: 1, 75776: 1, 75782: 1, 75809: 1, 75841: 1, 75889: 2, 75896: 1, 75921: 1, 75932: 1, 75991: 1, 76014: 1, 76041: 1, 76046: 1, 76159: 1, 76234: 1, 76281: 1, 76291: 1, 76313: 1, 76422: 2, 76452: 1, 76454: 1, 76468: 1, 76474: 1, 76545: 1, 76708: 2, 76740: 1, 76756: 1, 76768: 3, 76819: 4, 76837: 4, 76954: 1, 77001: 1, 77004: 1, 77048: 1, 77051: 1, 77129: 1, 77144: 1, 77154: 1, 77171: 1, 77201: 1, 77276: 1, 77388: 1, 77409: 1, 77451: 1, 77513: 1, 77526: 1, 77562: 1, 77564: 1, 77576: 1, 77608: 2, 77665: 1, 77678: 1, 77787: 1, 77810: 1, 77837: 1, 77889: 1, 77903: 1, 77952: 1, 77955: 1, 77959: 7, 77999: 1, 78216: 1, 78221: 1, 78247: 1, 78262: 13, 78309: 1, 78326: 1, 78350: 1, 78363: 1, 78395: 1, 78414: 1, 78426: 1, 78477: 1, 78495: 1, 78513: 1, 78697: 1, 78732: 1, 78734: 1, 78815: 1, 78847: 1, 78872: 1, 79013: 1, 79054: 17, 79072: 1, 79167: 2, 79226: 1, 79237: 1, 79309: 1, 79333: 1, 79350: 1, 79378: 1, 79383: 1, 79386: 1, 79445: 1, 79462: 1, 79495: 1, 79528: 1, 79564: 1, 79636: 1, 79697: 1, 79699: 1, 79725: 2, 79727: 1, 79747: 1, 79751: 1, 79803: 1, 79838: 1, 79852: 1, 79874: 1, 79892: 1, 79901: 1, 79908: 1, 79932: 1, 79979: 1, 79998: 2, 80013: 1, 80024: 1, 80111: 1, 80116: 1, 80128: 1, 80139: 1, 80159: 1, 80170: 1, 80190: 1, 80202: 1, 80239: 1, 80273: 1, 80305: 1, 80308: 1, 80367: 1, 80385: 1, 80414: 1, 80426: 1, 80432: 2, 80438: 1, 80450: 1, 80501: 1, 80572: 1, 80599: 1, 80618: 1, 80769: 1, 80777: 1, 80810: 1, 80868: 1, 81047: 1, 81062: 2, 81065: 1, 81105: 1, 81152: 4, 81164: 2, 81167: 1, 81215: 1, 81216: 1, 81240: 1, 81247: 1, 81348: 1, 81375: 1, 81384: 1, 81437: 1, 81496: 1, 81510: 1, 81587: 1, 81592: 1, 81594: 3, 81599: 1, 81642: 1, 81669: 1, 81705: 1, 81751: 1, 81805: 1, 81859: 1, 81872: 1, 81875: 1, 81955: 1, 82070: 1, 82081: 1, 82158: 1, 82218: 1, 82335: 1, 82357: 1, 82361: 2, 82408: 1, 82426: 1, 82441: 1, 82445: 1, 82462: 1, 82466: 1, 82487: 1, 82527: 1, 82530: 1, 82539: 1, 82540: 1, 82622: 1, 82659: 1, 82700: 1, 82702: 1, 82734: 1, 82744: 1, 82789: 1, 82790: 1, 82807: 1, 82864: 1, 82907: 1, 83153: 1, 83179: 1, 83247: 1, 83254: 1, 83258: 3, 83281: 1, 83284: 1, 83317: 1, 83380: 1, 83420: 1, 83452: 2, 83560: 1, 83599: 1, 83604: 1, 83605: 1, 83670: 2, 83714: 1, 83722: 6, 83758: 1, 83777: 1, 83791: 1, 83826: 1, 83832: 1, 83857: 1, 83880: 1, 83949: 1, 83990: 1, 84071: 1, 84102: 1, 84104: 1, 84146: 1, 84435: 1, 84481: 1, 84486: 3, 84498: 1, 84501: 1, 84536: 1, 84613: 1, 84632: 1, 84641: 1, 84686: 1, 84717: 1, 84721: 1, 84730: 2, 84736: 1, 84832: 1, 84837: 1, 84894: 1, 84924: 1, 84940: 2, 84944: 1, 85053: 2, 85112: 1, 85145: 1, 85187: 1, 85199: 1, 85251: 1, 85253: 1, 85267: 2, 85274: 1, 85276: 1, 85332: 1, 85413: 1, 85430: 1, 85465: 1, 85483: 1, 85530: 1, 85565: 2, 85610: 1, 85612: 1, 85614: 1, 85628: 1, 85649: 1, 85678: 1, 85718: 1, 85725: 1, 85776: 1, 85794: 1, 85801: 1, 85850: 1, 85897: 1, 85998: 1, 86031: 1, 86059: 1, 86071: 1, 86078: 1, 86094: 1, 86104: 1, 86213: 1, 86219: 1, 86243: 1, 86400: 1, 86411: 5, 86431: 1, 86483: 2, 86528: 1, 86620: 1, 86627: 1, 86651: 1, 86733: 1, 86759: 1, 86832: 1, 86925: 1, 86931: 1, 86941: 1, 87030: 1, 87048: 3, 87091: 1, 87094: 1, 87132: 1, 87211: 1, 87340: 2, 87358: 1, 87379: 1, 87399: 1, 87435: 1, 87437: 1, 87447: 1, 87498: 1, 87621: 1, 87858: 1, 87978: 1, 87990: 1, 87997: 1, 88003: 1, 88008: 1, 88035: 1, 88055: 1, 88096: 1, 88138: 1, 88189: 1, 88279: 1, 88336: 1, 88396: 1, 88476: 1, 88490: 1, 88529: 1, 88553: 4, 88556: 1, 88558: 1, 88617: 1, 88623: 1, 88625: 2, 88675: 1, 88686: 1, 88713: 1, 88760: 1, 88791: 1, 88822: 1, 88826: 1, 88906: 1, 89040: 1, 89064: 1, 89071: 2, 89139: 1, 89216: 1, 89227: 1, 89231: 1, 89278: 1, 89319: 1, 89333: 1, 89361: 1, 89366: 1, 89413: 1, 89464: 1, 89465: 1, 89492: 1, 89517: 1, 89530: 1, 89547: 1, 89590: 1, 89608: 1, 89615: 4, 89626: 2, 89644: 1, 89678: 1, 89730: 1, 89736: 1, 89755: 1, 89756: 1, 89771: 1, 89817: 1, 89825: 1, 89839: 1, 89902: 1, 89944: 1, 89951: 1, 89967: 1, 89969: 1, 90074: 1, 90088: 1, 90123: 1, 90144: 1, 90148: 2, 90169: 2, 90176: 2, 90182: 2, 90229: 1, 90240: 1, 90328: 1, 90392: 1, 90424: 1, 90526: 1, 90607: 1, 90716: 1, 90743: 1, 90858: 1, 90930: 1, 90972: 1, 91053: 1, 91054: 1, 91080: 1, 91179: 1, 91208: 1, 91210: 1, 91240: 1, 91333: 1, 91380: 1, 91425: 1, 91446: 1, 91508: 1, 91571: 1, 91598: 1, 91607: 1, 91637: 22, 91699: 1, 91702: 1, 91765: 1, 91774: 1, 91775: 1, 91811: 1, 91822: 1, 91896: 1, 91901: 1, 91972: 1, 92023: 1, 92034: 4, 92060: 1, 92075: 1, 92092: 1, 92096: 1, 92131: 1, 92163: 1, 92236: 1, 92259: 3, 92320: 1, 92391: 1, 92415: 1, 92452: 1, 92466: 1, 92469: 1, 92490: 1, 92556: 1, 92559: 1, 92589: 1, 92604: 1, 92630: 1, 92731: 1, 92742: 1, 92818: 1, 92887: 1, 92926: 1, 92930: 2, 92980: 1, 93012: 1, 93027: 1, 93080: 1, 93109: 1, 93156: 2, 93170: 1, 93171: 1, 93183: 1, 93247: 1, 93256: 1, 93288: 1, 93321: 1, 93327: 1, 93388: 1, 93422: 1, 93438: 1, 93455: 1, 93483: 1, 93546: 1, 93618: 1, 93619: 1, 93628: 1, 93636: 1, 93679: 1, 93688: 1, 93704: 1, 93741: 1, 93767: 2, 93786: 1, 93869: 1, 93871: 1, 93882: 1, 93953: 1, 93989: 1, 93999: 1, 94007: 1, 94092: 1, 94240: 1, 94276: 1, 94343: 1, 94385: 1, 94418: 1, 94431: 1, 94446: 2, 94560: 1, 94607: 1, 94619: 1, 94646: 1, 94740: 1, 94766: 1, 94889: 1, 94895: 1, 94908: 1, 94957: 1, 94982: 1, 94988: 1, 95000: 1, 95034: 2, 95038: 1, 95146: 1, 95161: 1, 95163: 2, 95180: 1, 95238: 1, 95241: 1, 95252: 1, 95266: 2, 95349: 1, 95404: 1, 95421: 1, 95428: 1, 95439: 1, 95445: 1, 95448: 1, 95500: 1, 95506: 1, 95527: 2, 95534: 1, 95575: 1, 95579: 1, 95580: 1, 95581: 1, 95633: 1, 95684: 1, 95694: 1, 95699: 1, 95793: 1, 95794: 1, 95797: 1, 95807: 1, 95827: 1, 95834: 1, 95855: 3, 95957: 1, 96025: 14, 96029: 1, 96175: 1, 96186: 1, 96236: 1, 96273: 1, 96302: 1, 96307: 1, 96382: 1, 96387: 1, 96402: 1, 96481: 1, 96495: 2, 96512: 2, 96538: 1, 96572: 1, 96576: 1, 96594: 1, 96627: 1, 96719: 1, 96780: 1, 96832: 1, 96847: 1, 96933: 1, 96941: 1, 96972: 1, 96976: 1, 97051: 1, 97094: 1, 97123: 1, 97125: 1, 97129: 1, 97150: 1, 97188: 1, 97192: 1, 97197: 1, 97202: 1, 97248: 1, 97302: 1, 97381: 1, 97390: 1, 97417: 1, 97499: 1, 97541: 1, 97550: 1, 97611: 2, 97622: 1, 97678: 1, 97691: 1, 97702: 1, 97705: 1, 97724: 1, 97727: 1, 97768: 1, 97777: 1, 97823: 1, 97923: 1, 97949: 1, 97963: 1, 98010: 1, 98011: 1, 98028: 1, 98111: 1, 98123: 1, 98146: 1, 98169: 1, 98181: 1, 98291: 1, 98407: 1, 98430: 1, 98432: 2, 98445: 1, 98489: 1, 98559: 1, 98565: 1, 98576: 1, 98606: 1, 98671: 1, 98725: 1, 98739: 2, 98869: 1, 98939: 1, 98942: 1, 98961: 1, 98987: 1, 99035: 1, 99056: 1, 99090: 1, 99110: 1, 99122: 1, 99153: 1, 99168: 1, 99173: 1, 99203: 1, 99211: 1, 99230: 1, 99239: 1, 99304: 1, 99344: 1, 99354: 1, 99362: 1, 99396: 5, 99411: 1, 99486: 1, 99523: 1, 99571: 1, 99586: 1, 99634: 1, 99650: 1, 99654: 1, 99658: 1, 99663: 1, 99692: 1, 99760: 3, 99819: 1, 99850: 2, 99851: 1, 99863: 1, 99875: 1, 99876: 1, 99948: 1, 99974: 1}

def antifraud_engine(transaction: Transaction) -> Literal["approve", "deny"]:
    user_id = transaction.user_id
    amount = transaction.transaction_amount

    if user_id in users_with_cbk:
        return "deny"
    if recent_tx_count.get(user_id, 0) > 10:
        return "deny"
    if amount > 1000:
        return "deny"
    return "approve"

@app.post("/evaluate")
async def evaluate_transaction(tx: Transaction):
    recommendation = antifraud_engine(tx)
    return {"transaction_id": tx.transaction_id, "recommendation": recommendation}
